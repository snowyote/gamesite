// Generated by CoffeeScript 1.4.0
var PlayerCtrl, siteApp;

siteApp = angular.module('siteApp', []);

siteApp.factory('Player', function() {
  return {
    name: "New Player",
    mail_hash: '00000000000000000000000000000000'
  };
});

PlayerCtrl = function($scope, Player) {
  $scope.player = Player;
  $scope.avatar = function(hash) {
    return "http://www.gravatar.com/avatar/" + hash + "?d=mm";
  };
  $.get('/api/users/me', function(data) {
    return $scope.$apply(function() {
      return $scope.player = data;
    });
  });
  return $scope.saveUser = function() {
    return $.ajax({
      url: "/api/users/" + $scope.player.id,
      type: "PUT",
      data: $scope.player
    });
  };
};
